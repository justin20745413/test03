<template>
    <q-card class="practice-card">
        <q-card-section>
            <h3 class="section-title">æ•¸å€¼è½‰æ›ç¤ºä¾‹</h3>
            <div class="example-box">
                <p class="original-value">åŸå§‹å€¼: {{ originalValue }}</p>
            </div>
        </q-card-section>

        <q-card-section>
            <ul class="explanation">
                <li>
                    parseInt(): å°‡æ•¸å€¼è½‰æ›ç‚ºæ•´æ•¸
                    <span class="result-value">{{ parsedIntValue }}</span>
                </li>
                <li>
                    parseFloat(): å°‡å­—ç¬¦ä¸²è½‰æ›ç‚ºæµ®é»æ•¸
                    <span class="result-value">{{ parsedFloatValue }}</span>
                </li>
                <li>
                    Math.round(): å››æ¨äº”å…¥åˆ°æœ€æ¥è¿‘çš„æ•´æ•¸
                    <span class="result-value">{{ roundedValue }}</span>
                </li>
                <li>
                    Math.floor(): å‘ä¸‹å–æ•´(å–å°æ–¼ç­‰æ–¼è©²æ•¸çš„æœ€å¤§æ•´æ•¸)
                    <span class="result-value">{{ floorValue }}</span>
                </li>
                <li>
                    Math.ceil(): å‘ä¸Šå–æ•´(å–å¤§æ–¼ç­‰æ–¼è©²æ•¸çš„æœ€å°æ•´æ•¸)
                    <span class="result-value">{{ ceilValue }}</span>
                </li>
                <li class="tw-flex tw-items-center tw-gap-2">
                    <q-btn
                        color="secondary"
                        class="tw-pa-1 border"
                        flat
                        @click="generateRandomValue"
                        >ç”Ÿæˆéš¨æ©Ÿæ•¸</q-btn
                    >
                    <span class="result-value">Math.random(): {{ randomValue }}</span>
                </li>
            </ul>
        </q-card-section>
    </q-card>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue'

const originalValue = ref(12.67)

const parsedIntValue = computed(() => {
    return parseInt(originalValue.value.toString())
})

const parsedFloatValue = computed(() => {
    return parseFloat(originalValue.value.toString())
})

const roundedValue = computed(() => {
    return Math.round(originalValue.value)
})

const floorValue = computed(() => {
    return Math.floor(originalValue.value)
})

const ceilValue = computed(() => {
    return Math.ceil(originalValue.value)
})

const randomValue = ref(Math.random())

const generateRandomValue = () => {
    randomValue.value = Math.random()
}
</script>

<style scoped>
.practice-card {
    background: var(--q-card-bg, #fff);
    border-radius: 8px;
    transition:
        transform 0.2s,
        box-shadow 0.2s;
}

.section-title {
    color: var(--q-primary);
    margin-bottom: 1rem;
    font-size: 1.25rem;
}

.result-value {
    color: var(--q-negative);
    margin-left: 10px;
    font-weight: 500;

    &::before {
        content: 'ğŸ”´';
        margin-right: 5px;
    }
}

.example-box {
    background: var(--q-page-bg);
    padding: 1rem;
    border-radius: 4px;
    margin: 1rem 0;
    color: var(--q-primary);
}

.explanation {
    list-style: none;
    padding: 0;
    color: var(--q-primary);

    li {
        margin-bottom: 0.75rem;
        display: flex;
        align-items: center;
        flex-wrap: wrap;
    }
}
</style>
